-- H2 2.1.214;
SET DB_CLOSE_DELAY -1;        
;             
CREATE USER IF NOT EXISTS "SA" SALT '77748add5dabd50d' HASH '65425e9b4c77322df3c2c6f3d3c9684b2c4c0a38dc78f94a26a3c34b0fd1bec3' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."ADMINS"(
    "ADMIN_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 33) NOT NULL,
    "CREATED_DATE" TIMESTAMP(6),
    "EMAIL" CHARACTER VARYING(100) NOT NULL,
    "FIRST_NAME" CHARACTER VARYING(50) NOT NULL,
    "IS_ACTIVE" BOOLEAN,
    "LAST_NAME" CHARACTER VARYING(50) NOT NULL,
    "PASSWORD_HASH" CHARACTER VARYING(255) NOT NULL,
    "ROLE" CHARACTER VARYING(20),
    "USERNAME" CHARACTER VARYING(50) NOT NULL
);               
ALTER TABLE "PUBLIC"."ADMINS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ADMIN_ID"); 
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.ADMINS;  
INSERT INTO "PUBLIC"."ADMINS" VALUES
(1, TIMESTAMP '2025-08-25 14:00:49.903556', 'admin@dynamodetailing.com', 'Admin', TRUE, 'User', '$2a$10$iGDTw.yqF4IwqQBjF/rtBOFtciXjdVjIwCjb2xhif93XBCIgMM8s2', 'ADMIN', 'admin');      
CREATE CACHED TABLE "PUBLIC"."BOOKINGS"(
    "BOOKING_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 385) NOT NULL,
    "BOOKING_DATE" DATE NOT NULL,
    "BOOKING_TIME" TIME(6) NOT NULL,
    "CREATED_DATE" TIMESTAMP(6),
    "LOCATION_ADDRESS" CHARACTER VARYING(255) NOT NULL,
    "LOCATION_CITY" CHARACTER VARYING(50) NOT NULL,
    "LOCATION_STATE" CHARACTER VARYING(50) NOT NULL,
    "LOCATION_ZIP" CHARACTER VARYING(10) NOT NULL,
    "SPECIAL_INSTRUCTIONS" CHARACTER VARYING(500),
    "STATUS" CHARACTER VARYING(20),
    "TOTAL_AMOUNT" NUMERIC(10, 2) NOT NULL,
    "UPDATED_DATE" TIMESTAMP(6),
    "CUSTOMER_ID" BIGINT NOT NULL,
    "SERVICE_ID" BIGINT NOT NULL
);              
ALTER TABLE "PUBLIC"."BOOKINGS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A6" PRIMARY KEY("BOOKING_ID");            
-- 19 +/- SELECT COUNT(*) FROM PUBLIC.BOOKINGS;               
INSERT INTO "PUBLIC"."BOOKINGS" VALUES
(1, DATE '2025-09-06', TIME '11:00:00', TIMESTAMP '2025-08-25 14:01:41.091037', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'wefd', 'PENDING', 40.00, TIMESTAMP '2025-08-25 14:01:41.091037', 1, 2),
(33, DATE '2025-08-30', TIME '13:00:00', TIMESTAMP '2025-08-25 14:23:03.692935', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'fghbs', 'PENDING', 25.00, TIMESTAMP '2025-08-25 14:23:03.692935', 1, 1),
(65, DATE '2025-09-05', TIME '11:00:00', TIMESTAMP '2025-08-25 14:38:49.260132', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'srfdgt', 'PENDING', 25.00, TIMESTAMP '2025-08-25 14:38:49.260132', 1, 1),
(97, DATE '2025-08-29', TIME '11:00:00', TIMESTAMP '2025-08-25 15:07:44.831152', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'zsdf', 'PENDING', 80.00, TIMESTAMP '2025-08-25 15:07:44.831152', 1, 3),
(129, DATE '2025-08-30', TIME '12:00:00', TIMESTAMP '2025-08-25 15:12:33.386168', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'QWER', 'PENDING', 40.00, TIMESTAMP '2025-08-25 15:12:33.386168', 1, 2),
(161, DATE '2025-08-29', TIME '10:00:00', TIMESTAMP '2025-08-25 15:27:22.953717', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'sedrg', 'PENDING', 40.00, TIMESTAMP '2025-08-25 15:27:22.953717', 1, 2),
(193, DATE '2025-08-27', TIME '16:00:00', TIMESTAMP '2025-08-25 15:31:24.073405', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'asedrf', 'PENDING', 45.00, TIMESTAMP '2025-08-25 15:31:24.073405', 1, 6),
(225, DATE '2025-08-27', TIME '11:00:00', TIMESTAMP '2025-08-25 15:33:42.967279', '789 Test Rd', 'Test City', 'TS', '12345', 'Test booking - data verification', 'CONFIRMED', 25.00, TIMESTAMP '2025-08-25 15:33:42.967279', 33, 1),
(226, DATE '2025-09-05', TIME '15:00:00', TIMESTAMP '2025-08-25 15:34:31.752654', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'awertf', 'PENDING', 80.00, TIMESTAMP '2025-08-25 15:34:31.752654', 1, 3),
(257, DATE '2025-08-27', TIME '11:00:00', TIMESTAMP '2025-08-25 15:39:12.683331', '789 Test Rd', 'Test City', 'TS', '12345', 'Test booking - data verification', 'CONFIRMED', 25.00, TIMESTAMP '2025-08-25 15:39:12.684334', 33, 1),
(258, DATE '2025-08-30', TIME '10:00:00', TIMESTAMP '2025-08-25 15:40:39.729894', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'ygthf', 'PENDING', 60.00, TIMESTAMP '2025-08-25 15:40:39.729894', 1, 4),
(289, DATE '2025-08-27', TIME '11:00:00', TIMESTAMP '2025-08-25 16:07:43.897452', '789 Test Rd', 'Test City', 'TS', '12345', 'Test booking - data verification', 'CONFIRMED', 25.00, TIMESTAMP '2025-08-25 16:07:43.897452', 33, 1),
(290, DATE '2025-08-28', TIME '16:00:00', TIMESTAMP '2025-08-25 16:08:42.060479', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'awser', 'PENDING', 40.00, TIMESTAMP '2025-08-25 16:08:42.060479', 1, 2),
(291, DATE '2025-08-27', TIME '11:00:00', TIMESTAMP '2025-08-25 16:11:38.284343', '789 Test Rd', 'Test City', 'TS', '12345', 'Test booking - data verification', 'CONFIRMED', 25.00, TIMESTAMP '2025-08-25 16:11:38.284343', 33, 1),
(292, DATE '2025-08-27', TIME '11:00:00', TIMESTAMP '2025-08-25 16:11:55.394202', '789 Test Rd', 'Test City', 'TS', '12345', 'Test booking - data verification', 'CONFIRMED', 25.00, TIMESTAMP '2025-08-25 16:11:55.394202', 33, 1),
(293, DATE '2025-08-28', TIME '10:00:00', TIMESTAMP '2025-08-25 16:12:25.949107', '113 pranavathi street sri chakara nagar', 'chennai', 'tamilnadu', '600122', 'awefa', 'PENDING', 40.00, TIMESTAMP '2025-08-25 16:12:25.949107', 1, 2),
(321, DATE '2025-08-27', TIME '11:00:00', TIMESTAMP '2025-08-25 18:29:21.695778', '789 Test Rd', 'Test City', 'TS', '12345', 'Test booking - data verification', 'CONFIRMED', 25.00, TIMESTAMP '2025-08-25 18:29:21.695778', 33, 1),
(322, DATE '2025-08-29', TIME '10:00:00', TIMESTAMP '2025-08-25 18:30:45.744738', 'a', 'chennai', 'tamilnadu', '600122', 'dsfr', 'PENDING', 60.00, TIMESTAMP '2025-08-25 18:30:45.744738', 1, 4);        
INSERT INTO "PUBLIC"."BOOKINGS" VALUES
(353, DATE '2025-08-27', TIME '11:00:00', TIMESTAMP '2025-08-25 18:40:07.523482', '789 Test Rd', 'Test City', 'TS', '12345', 'Test booking - data verification', 'CONFIRMED', 25.00, TIMESTAMP '2025-08-25 18:40:07.523482', 33, 1);  
CREATE CACHED TABLE "PUBLIC"."CUSTOMERS"(
    "CUSTOMER_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 65) NOT NULL,
    "ADDRESS" CHARACTER VARYING(255),
    "CITY" CHARACTER VARYING(50),
    "CREATED_DATE" TIMESTAMP(6),
    "EMAIL" CHARACTER VARYING(100) NOT NULL,
    "FIRST_NAME" CHARACTER VARYING(50) NOT NULL,
    "LAST_NAME" CHARACTER VARYING(50) NOT NULL,
    "PHONE_NUMBER" CHARACTER VARYING(20) NOT NULL,
    "STATE" CHARACTER VARYING(50),
    "ZIP_CODE" CHARACTER VARYING(10)
);   
ALTER TABLE "PUBLIC"."CUSTOMERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("CUSTOMER_ID");           
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.CUSTOMERS;               
INSERT INTO "PUBLIC"."CUSTOMERS" VALUES
(1, NULL, NULL, TIMESTAMP '2025-08-25 14:01:41.097085', 'Arin.Work32@gmail.com', 'arin', 'RS', '9025032756', NULL, NULL),
(33, '789 Test Rd', 'Test City', TIMESTAMP '2025-08-25 15:33:42.842412', 'test@example.com', 'Test', 'Customer', '+1555123456', 'TS', '12345');           
CREATE CACHED TABLE "PUBLIC"."SERVICES"(
    "SERVICE_ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 33) NOT NULL,
    "CREATED_DATE" TIMESTAMP(6),
    "DESCRIPTION" CHARACTER VARYING(500),
    "DURATION_MINUTES" INTEGER NOT NULL,
    "IS_ACTIVE" BOOLEAN,
    "PRICE" NUMERIC(10, 2) NOT NULL,
    "SERVICE_NAME" CHARACTER VARYING(100) NOT NULL
);     
ALTER TABLE "PUBLIC"."SERVICES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_80" PRIMARY KEY("SERVICE_ID");            
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.SERVICES;
INSERT INTO "PUBLIC"."SERVICES" VALUES
(1, TIMESTAMP '2025-08-25 14:00:49.786469', 'Exterior wash with soap and water, interior vacuum and wipe down', 60, TRUE, 25.00, 'Basic Wash'),
(2, TIMESTAMP '2025-08-25 14:00:49.786469', 'Basic wash plus tire shine, dashboard conditioning, and window cleaning', 90, TRUE, 40.00, 'Premium Wash'),
(3, TIMESTAMP '2025-08-25 14:00:49.786469', 'Complete interior and exterior detailing including wax and polish', 180, TRUE, 80.00, 'Full Detail'),
(4, TIMESTAMP '2025-08-25 14:00:49.786469', 'Deep cleaning of seats, carpets, dashboard, and all interior surfaces', 120, TRUE, 60.00, 'Interior Deep Clean'),
(5, TIMESTAMP '2025-08-25 14:00:49.786469', 'Professional paint correction and ceramic coating application', 240, TRUE, 150.00, 'Paint Correction'),
(6, TIMESTAMP '2025-08-25 14:00:49.786469', 'Thorough cleaning and detailing of engine compartment', 75, TRUE, 45.00, 'Engine Bay Cleaning');    
ALTER TABLE "PUBLIC"."BOOKINGS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A" CHECK("STATUS" IN('PENDING', 'CONFIRMED', 'IN_PROGRESS', 'COMPLETED', 'CANCELLED')) NOCHECK;           
ALTER TABLE "PUBLIC"."SERVICES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" CHECK("DURATION_MINUTES" >= 1) NOCHECK;
ALTER TABLE "PUBLIC"."ADMINS" ADD CONSTRAINT "PUBLIC"."UK_47BVQEMYK6VLM0W7CRC3OPDD4" UNIQUE("EMAIL");         
ALTER TABLE "PUBLIC"."ADMINS" ADD CONSTRAINT "PUBLIC"."UK_MI8VKHUS4XBDBQCAC2JM4SPVD" UNIQUE("USERNAME");      
ALTER TABLE "PUBLIC"."CUSTOMERS" ADD CONSTRAINT "PUBLIC"."UK_RFBVKRFFAMFQL7CJMEN8V976V" UNIQUE("EMAIL");      
ALTER TABLE "PUBLIC"."BOOKINGS" ADD CONSTRAINT "PUBLIC"."FKBVFIBGFLHSB0G2HNJAUIV5KHS" FOREIGN KEY("CUSTOMER_ID") REFERENCES "PUBLIC"."CUSTOMERS"("CUSTOMER_ID") NOCHECK;      
ALTER TABLE "PUBLIC"."BOOKINGS" ADD CONSTRAINT "PUBLIC"."FKJCWBOU2JLBLFWU14UOXS65B25" FOREIGN KEY("SERVICE_ID") REFERENCES "PUBLIC"."SERVICES"("SERVICE_ID") NOCHECK;         
